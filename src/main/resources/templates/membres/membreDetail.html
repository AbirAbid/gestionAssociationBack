<!DOCTYPE html>
<html lang="en" xmlns:th="https://thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:insert="fragments/head :: head_part">

<body class="logo-center card-no-border fix-sidebar">
<div class="preloader">
    <svg class="circular" viewBox="25 25 50 50">
        <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
    </svg>
</div>

<div id="main-wrapper">

    <div th:insert="fragments/top_bar.html :: topbar"></div>

    <div th:insert="fragments/sidebar.html :: left_sidebar"></div>

    <div class="page-wrapper">

        <div class="container-fluid">

            <div class="row page-titles">
                <div class="col-md-6 col-8 align-self-center">
                    <h3 class="text-themecolor mb-0 mt-0">Ma communauté</h3>

                </div>
            </div>

            <div class="row">
                <div class="col-lg-12">

                    <!-- Card -->
                    <div class="card ">
                        <div class="card-header text-center">
                            <h4 class="card-title"><span class="fas fa-eye"></span> Membre Detail </h4>
                        </div>

                        <div class="form-body ">

                            <div class="card-body text-black" th:object="${membre}">

                                <h2 style="display: inline" th:text="${membre.nom}"></h2>
                                <h2 style="display: inline" class=" text-uppercase"
                                    th:text="${membre.prenom}"></h2>
                                <br>
                                <ul class="nav nav-tabs" role="tablist">
                                    <li class="nav-item"><a class="nav-link active" data-toggle="tab"
                                                            href="#profile"
                                                            role="tab"><span class="hidden-sm-up"></span> <span
                                            class="hidden-xs-down"><i
                                            class="far fa-id-card"></i> Coordonnés
                                                                    membre</span></a></li>
                                    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#mission"
                                                            role="tab"><span class="hidden-sm-up"></span> <span
                                            class="hidden-xs-down"><i
                                            class="far fa-heart"></i> Mission
                                                                    Bénévoles</span></a></li>
                                    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#biens"
                                                            role="tab"><span class="hidden-sm-up"></span> <span
                                            class="hidden-xs-down"><i
                                            class=" fas fa-gift"></i> Liste des
                                                                    Dons</span></a></li>
                                </ul>
                                <!-- Tab panes -->
                                <div class="tab-content tabcontent-border">
                                    <div class="tab-pane active" id="profile" role="tabpanel">
                                        <div class="p-3">
                                            <div class="row">
                                                <div class="col-sm-3  col-5">

                                                    <label style="font-weight:bold;">Email :</label>
                                                </div>
                                                <span class="fas fa-envelope"></span>
                                                <div class="col-md-8 col-6"
                                                     th:text="${membre.username}">

                                                </div>
                                            </div>
                                            <hr/>
                                            <div class="row">
                                                <div class="col-sm-3  col-5">


                                                    <label style="font-weight:bold;">Date de
                                                        naissance : </label>
                                                </div>
                                                <span class="fas fa-calendar-alt"></span>
                                                <div class="col-md-8 col-6"
                                                     th:text="${membre.dateNaissance}">

                                                </div>
                                            </div>
                                            <hr/>
                                            <div class="row">
                                                <div class="col-sm-3  col-5">
                                                    <label style="font-weight:bold;">Gouvernerat de
                                                        residance : </label>
                                                </div>
                                                <span class="fas fa-map-marker-alt"></span>

                                                <div class="col-md-8 col-6"
                                                     th:text="${membre.gouvernoratRes}">
                                                </div>
                                            </div>
                                            <hr/>
                                            <div class="row">
                                                <div class="col-sm-3  col-5">
                                                    <label style="font-weight:bold;">Occupation :</label>
                                                </div>
                                                <span class="fas fa-clipboard"></span>

                                                <div class="col-md-8 col-6"
                                                     th:text="${membre.occupation}">

                                                </div>
                                            </div>
                                            <hr/>
                                            <div class="row">
                                                <div class="col-sm-3  col-5">
                                                    <label style="font-weight:bold;">Genre :</label>
                                                </div>
                                                <span class="fas fa-transgender"></span>

                                                <div class="col-md-8 col-6"
                                                     th:text="${membre.genre} ">

                                                </div>
                                            </div>
                                            <hr/>
                                            <div class="row">
                                                <div class="col-sm-3 col-5">
                                                    <label style="font-weight:bold;">Télèphone : </label>
                                                </div>
                                                <span class="fas fa-phone-square"></span>

                                                <div class="col-md-8 col-6"
                                                     th:text="${membre.telephone} ">

                                                </div>
                                            </div>
                                            <hr/>

                                            <div class="row">
                                                <div class="col-sm-3  col-5">
                                                    <label style="font-weight:bold;">Taux d'engagement :</label>
                                                </div>
                                                <span class="fas fa-chart-line"></span>

                                                <div class="col-md-8 col-6">
                                                    <div class="progress ">

                                                        <div class="progress-bar bg-danger wow animated progress-animated"
                                                             th:style="'width:'+@{${membre.tauxEchange}}+'%; height:15px;'"
                                                             role="progressbar">
                                                            <span style="color: #000000"
                                                                  th:text="${{membre.tauxEchange}}"></span>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane  p-3" id="mission" role="tabpanel">
                                        <div th:if="${#lists.isEmpty(userMissions)}">
                                            <div class="alert alert-danger alert-dismissible fade show"
                                                 role="alert">
                                                La liste des missions est vide!!

                                            </div>


                                        </div>
                                        <div th:if="${not #lists.isEmpty(userMissions)}" class="card">
                                            <table class="table table-active border" id="tab1" style="text-align:center">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Titre Mission</th>
                                                    <th scope="col">Événement</th>
                                                    <th scope="col">Date Demande</th>
                                                    <th scope="col">Disponibilités</th>
                                                </tr>
                                                </thead>


                                                <tbody >

                                                <tr th:each="p : ${userMissions}">
                                                    <td th:text="${p.mission.titre}"></td>
                                                    <td >

                                                        <a th:href="@{eventDetail(id=${p.mission.evenement.id})}"
                                                           th:text="${p.mission.evenement.titre}">
                                                        </a>
                                                        <div th:if="${p.mission.evenement.dateFin.before(dateJour)}" style="display: inline">
                                                                <span class="badge badge-dark">Passé
                                                                </span>
                                                        </div>
                                                    </td>
                                                    <td th:text="${p.demandeDate}"></td>
                                                    <td th:text="${p.dateDisponibiliteList}"></td>



                                                </tr>

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="tab-pane p-3" id="biens" role="tabpanel">
                                        <div th:if="${#lists.isEmpty(userBiens)}">
                                            <div class="alert alert-danger alert-dismissible fade show"
                                                 role="alert">
                                                La liste des dons est vide!!


                                            </div>

                                        </div>
                                        <div th:if="${not #lists.isEmpty(userBiens)}" class="card">

                                                <table class="table table-active border" id="tab2" style="text-align:center">
                                                    <thead>
                                                    <tr >
                                                        <th scope="col">Titre Bien</th>
                                                        <th scope="col" >Quantité données</th>
                                                        <th scope="col">Événement</th>

                                                        <th scope="col">Date participation</th>
                                                    </tr>
                                                    </thead>


                                                    <tbody >

                                                    <tr th:each="p : ${userBiens}">
                                                        <td th:text="${p.bien.titreBien}"></td>
                                                        <td><span class="label label-rounded label-danger"
                                                                                            th:text="${p.qteDonnee}"></span></td>

                                                        <td>

                                                            <a th:href="@{eventDetail(id=${p.bien.evenement.id})}"
                                                               th:text="${p.bien.evenement.titre}">
                                                            </a>
                                                            <div th:if="${p.bien.evenement.dateFin.before(dateJour)}" style="display: inline">
                                                                <span class="badge badge-dark">Passé
                                                                </span>
                                                            </div>
                                                        </td>
                                                        <td th:text="${p.dateParticipation}"></td>


                                                    </tr>

                                                    </tbody>
                                                </table>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div th:insert="fragments/footer.html :: footerPage"></div>

    </div>

</div>
<div th:insert="fragments/script_footer.html ::scriptFooter"></div>
<script th:src="|../js_files/search_filter.js|"></script>

</body>


</html>
