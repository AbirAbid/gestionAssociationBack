<!DOCTYPE html>
<html lang="en" xmlns:th="https://thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<head th:insert="fragment/header :: headerfiles">


<body>

<div th:replace="fragment/menu ::menugauche">


</div>
<div id="content">

    <div th:replace="fragment/header ::navbar"></div>
    <div class="alert alert-danger alert-dismissible fade show" role="alert" th:if="${messageDelete}">
        <strong th:text="${messageDelete}"></strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${messageUpdate}">
        <strong th:text="${messageUpdate}"></strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${message}">
        <strong th:text="${message}"></strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <table class="table table-bordered">
        <form th:action="@{list}" method="get">
            <div class="md-form active-purple-2 mb-3">
                <div class="input-group">
                    <input type="text" class="form-control" name="motCle" th:value="${mc}" placeholder="Rechercher">
                    <div class="input-group-append">
                        <button class="btn btn-secondary" type="submit">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
        </form>

        <div class="alert alert-danger alert-dismissible fade show" role="alert"
             th:if="${ #lists.isEmpty(pageContent)}">
            Aucun résultat pour <strong th:text="${mc}"></strong>
            <a type="button" class="close" data-dismiss="alert"
               aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </a>
        </div>

        <thead>
        <tr>
            <th>ID</th>
            <th>Titre</th>
            <th>Date début</th>
            <th>Date fin</th>
            <th>Detail</th>
            <th>Modifier</th>
            <th>Supprimer</th>

        </tr>
        </thead>
        <tbody>
        <tr th:each="event : ${evenements.content}">

            <!--
                    <tr th:each="event : ${evnement}">
            -->

            <td th:text="${event.id}"></td>
            <td th:text="${event.titre}"></td>

            <td th:text="${event.dateDebut}"></td>
            <td th:text="${event.dateFin}"></td>
            <td>
                <center><a class="btn btn-secondary">
                    <i class="fas fa-info"></i></a>
                </center>
            </td>


            <td>
                <center><a class="btn btn-secondary" th:href="@{formulaireUpdateEvent(id=${event.id})}"> <i
                        class="fas fa-edit"></i></a>
                </center>
            </td>


            <td>

                <center><a class="btn btn-danger" onclick="return confirm('Êtes-vous sûr  de supprimer l événement?')"
                           th:href="@{supprimer(id=${event.id})}"
                           th:hidden="${event.active == 1}"
                > <i class="fas fa-trash-alt"></i></a>
                </center>


            </td>
        </tr>
        </tbody>
    </table>
    <center>
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                <li class="page-item" th:each="p : ${pages}" th:class="${p==pageCourante}? 'page-item active': ''">
                    <!-- $ acceder model -->
                    <a class="page-link" th:text="${p}" th:href="@{list(page=${p})}"></a>
                </li>

            </ul>
        </nav>
    </center>
</div>
</div>
</div>

</div>

</div>

</div>

<header th:insert="fragment/header.html ::scriptFooter"></header>


</body>
</html>
