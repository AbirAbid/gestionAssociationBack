<!DOCTYPE html>
<html lang="en" xmlns:th="https://thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:insert="fragments/head :: head_part">

<body class="logo-center card-no-border fix-sidebar">
<div class="preloader">
    <svg class="circular" viewBox="25 25 50 50">
        <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
    </svg>
</div>


<div id="main-wrapper">
    <div th:insert="fragments/top_bar.html :: topbar"></div>

    <div th:insert="fragments/sidebar.html :: left_sidebar"></div>


    <div class="page-wrapper">

        <div class="container-fluid">

            <div class="row page-titles">
                <div class="col-md-6 col-8 align-self-center">
                    <h3 class="text-themecolor mb-0 mt-0">Organiser Événement</h3>

                </div>

            </div>
            <div class="row">
                <div class="col-lg-12">

                    <!-- Card -->
                    <div class="card ">
                        <div class="card-header text-center">
                            <h4 class="card-title"><span class="far fa-calendar-plus"></span> Créer votre événement</h4>
                        </div>
                        <div class="card-body ">

                            <div class="stepwizard ">
                                <div class="stepwizard-row setup-panel">
                                    <div class="stepwizard-step">

                                        <a href="#step-1" type="button"
                                           class="btn btn-secondary btn-circle">1</a>
                                        <p>Information événement</p>
                                    </div>
                                    <div class="stepwizard-step">
                                        <a href="#step-2" type="button" class="btn btn-info btn-circle"
                                        >2</a>
                                        <p>Besoin des biens</p>
                                    </div>
                                    <div class="stepwizard-step">
                                        <a href="#step-3" type="button" class="btn btn-info btn-circle"
                                        >3</a>
                                        <p>Besoin des bénévoles</p>
                                    </div>
                                </div>
                            </div>

                            <form action="#"
                                  th:action="@{/evenement/save}"
                                  th:object="${evenementDto}"
                                  method="post">
                                <div class="setup-content text-black" id="step-1">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="card">

                                                <h4 class="card-title">Information d'un événement </h4>


                                                <div class="form-group mt-5 row">
                                                    <label class="col-2 col-form-label">Titre :  <span style="color:red;">*</span></label>
                                                    <div class="col-10">
                                                        <input type="text" th:field="*{titre}"
                                                               class="form-control" placeholder="Titre"
                                                        />
                                                        <p th:errors="*{titre}" class="text-danger"></p>
                                                    </div>
                                                </div>

                                                <div class="form-group mt-5 row">
                                                    <label class="col-2 col-form-label">Ville</label>
                                                    <div class="col-10">
                                                        <select name="region" th:field="*{ville}"
                                                                class="form-control">
                                                            <option th:value="Tunis" th:text="Tunis"
                                                                    selected></option>
                                                            <option th:value="Ariana" th:text="Ariana"></option>
                                                            <option th:value="Béja" th:text="Béja"></option>
                                                            <option th:value="BenArous">Ben Arous</option>
                                                            <option th:value="Bizerte"
                                                                    th:text="Bizerte"></option>
                                                            <option th:value="Gabès" th:text="Gabès"></option>
                                                            <option th:value="Gafsa" th:text="Gafsa"></option>
                                                            <option th:value="Jendouba"
                                                                    th:text="Jendouba"></option>
                                                            <option th:value="Kairouan"
                                                                    th:text="Kairouan"></option>
                                                            <option th:value="Kasserine"
                                                                    th:text="Kasserine"></option>
                                                            <option th:value="Kébili" th:text="Kébili"></option>
                                                            <option th:value="LeKef"> Le Kef</option>
                                                            <option th:value="Mahdia" th:text="Mahdia"></option>
                                                            <option th:value="LaManouba">La Manouba</option>
                                                            <option th:value="Médenine"
                                                                    th:text="Médenine"></option>
                                                            <option th:value="Monastir"
                                                                    th:text="Monastir"></option>
                                                            <option th:value="Nabeul" th:text="Nabeul"></option>
                                                            <option th:value="Sfax" th:text="Sfax"></option>
                                                            <option th:value="SidiBouzid">Sidi Bouzid</option>
                                                            <option th:value="Siliana"
                                                                    th:text="Siliana"></option>
                                                            <option th:value="Sousse" th:text="Sousse"></option>
                                                            <option th:value="Tataouine"
                                                                    th:text="Tataouine"></option>
                                                            <option th:value="Tozeur" th:text="Tozeur"></option>
                                                            <option th:value="Tunis" th:text="Tunis"></option>
                                                            <option th:value="Zaghouan"
                                                                    th:text="Zaghouan"></option>
                                                        </select>

                                                        <p th:errors="*{ville}" class="text-danger"></p>
                                                    </div>
                                                </div>

                                                <div class="form-group mt-5 row">
                                                    <label class="col-2 col-form-label">Catégorie</label>
                                                    <div class="col-10">
                                                        <select name="categorie" th:field="*{categorie}"
                                                                class="form-control">
                                                            <option th:value="aide-humanitaire" selected>Aide
                                                                humanitaire
                                                            </option>
                                                            <option th:value="aide-handicapes">Aide aux handicapés
                                                            </option>
                                                            <option th:value="sante">Santé</option>
                                                            <option th:value="education">Éducation</option>

                                                        </select>

                                                        <p th:errors="*{categorie}" class="text-danger"></p>
                                                    </div>
                                                </div>

                                                <div class="form-group mt-5 row">
                                                    <label class="col-2 col-form-label">Adresse :<span style="color:red;">*</span></label>
                                                    <div class="col-10">
                                                        <input
                                                                type="text" th:field="*{adresse}"
                                                                class="form-control"
                                                                placeholder="Adresse"
                                                        >
                                                        <p th:errors="*{adresse}" class="text-danger"></p>

                                                    </div>
                                                </div>


                                                <div class="form-group mt-5 row">
                                                    <label class="col-2 col-form-label">Déscription :  <span style="color:red;">*</span></label>
                                                    <div class="col-10">
                                                        <textarea th:field="*{description}" class="form-control"
                                                                  rows="5" placeholder="Déscription">
                                                        </textarea>
                                                        <p th:errors="*{description}" class="text-danger"></p>

                                                    </div>
                                                </div>

                                                <div class="md-form">



                                                </div>
                                                <div class="form-group mt-5 row">
                                                    <label class="col-2 col-form-label">Date Début :  <span style="color:red;">*</span></label>
                                                    <div class="col-10">

                                                        <input type="datetime-local" class="form-control"
                                                               name="dateDebut"
                                                               th:field="*{dateDebut}" th:value="${dateDebut}"
                                                               th:min="${now}"
                                                        />
                                                        <p th:errors="*{dateDebut}" class="text-danger"></p>

                                                    </div>
                                                </div>
                                                <div class="form-group mt-5 row">
                                                    <label class="col-2 col-form-label">Date Fin : <span style="color:red;">*</span></label>
                                                    <div class="col-10">
                                                        <input type="datetime-local" class="form-control" name="dateFin"
                                                               th:field="*{dateFin}" th:value="${dateFin}"
                                                               th:min="${now}"/>
                                                        <p th:errors="*{dateFin}" class="text-danger"></p>
                                                        <p th:text="${errorDate}" class="text-danger"></p>

                                                    </div>
                                                </div>
                                                <br>
                                                <div class="form-group mt-5 row">
                                                    <label class="col-2 col-form-label">Nos partenaires</label>
                                                    <div class="col-10">
                                                        <div class="selectRow">
                                                            <select class="select2 mb-2 select2-multiple"
                                                                    style="width: 100%"
                                                                    multiple="multiple" data-placeholder="Choisir"
                                                                    th:field="*{sponsors}">

                                                                <option th:each="sponsor : ${sponsors}"
                                                                        th:text="${sponsor.titreSponsor}"
                                                                        th:value="${{sponsor}}"
                                                                ></option>

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br>
                                                <div class="md-form">
                                                    <div class="row">
                                                        <div class="col-sm-4">
                                                            <div class="custom-control custom-switch">
                                                                <input type="checkbox"
                                                                       class="custom-control-input"
                                                                       id="customSwitch1"
                                                                       checked data-toggle="collapse"
                                                                       data-target='#collapsediv1'>

                                                                <label class="custom-control-label"
                                                                       for="customSwitch1">Frais
                                                                    d'inscription </label>
                                                            </div>
                                                        </div>

                                                        <div class="collapse" id="collapsediv1">
                                                            <div class="row">
                                                                <div class="  col-sm-4">

                                                                    <input type="number" class="form-control"
                                                                           name="frais"
                                                                           th:field="*{frais}"
                                                                           onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                                                                    >

                                                                </div>
                                                                <div class=" col-sm-4"><strong>Dt</strong>
                                                                </div>
                                                            </div>

                                                        </div>

                                                    </div>
                                                </div>
                                                <br>


                                            </div>
                                        </div>
                                    </div>
                                    <br>
                                    <div style="color:red;">* champs obligatoires</div>

                                    <button type="button"
                                            class="btn btn-rounded btn-info nextBtn  float-right ">
                                        Continuer
                                        et ajouter des biens
                                        <i class="fas fa-arrow-right"></i></button>
                                </div>

                                <div class=" setup-content text-black" id="step-2">


                                    <div class="row">

                                        <div class="col-sm-6">

                                            <h3> Besoin des biens</h3>
                                        </div>
                                        <div class="col-sm-6">
                                            <button type="button" class="btn btn-rounded btn-info   float-right "
                                                    title="Ajouter un bien"
                                                    onclick="addRowBien()"><i class="fas fa-plus"></i>
                                            </button>

                                        </div>
                                    </div>
                                    <br>


                                    <div class="row">
                                        <div class="col">

                                            <div id="eventList">
                                                <div class="row">

                                                    <div class="col form-group"><label class="control-label">Titre
                                                        du bien</label>
                                                    </div>
                                                    <div class="col form-group"><label
                                                            class="control-label">Quantité</label>
                                                    </div>
                                                </div>
                                                <div class="row item b" th:each="bien, itemStat : *{biens}" id="r0">

                                                    <div class="col form-group ">
                                                        <input

                                                                th:field="*{biens[__${itemStat.index}__].titreBien}"
                                                                type="text" required="required"
                                                                class="form-control">

                                                    </div>

                                                    <div class="col form-group">
                                                        <input th:field="*{biens[__${itemStat.index}__].qte}"
                                                               type="number" required="required"
                                                               min="1"
                                                               onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"

                                                               class="form-control">

                                                    </div>
                                                    <div class="col form-group">
                                                        <input
                                                                type="button" value="Effacer" id="0"
                                                                onclick="removeRowBien(this)" class="btn btn-danger">
                                                    </div>


                                                </div>

                                            </div>
                                        </div>
                                    </div>


                                    <br>
                                    <button class="btn btn-rounded btn-info prevBtn  float-left " type="button"
                                            title="Retour">
                                        <i
                                                class="fas fa-arrow-left"></i>
                                    </button>
                                    <button class="btn btn-rounded btn-info nextBtn  float-right " type="button"
                                            title="Continuer et ajouter des missions bénévoles"><i
                                            class="fas fa-arrow-right"></i>
                                    </button>

                                </div>
                                <div class=" setup-content text-black" id="step-3">

                                    <div class="row">
                                        <div class="col-sm-6">
                                            <h3> Besoin des bénévoles </h3>
                                        </div>
                                        <div class="col-sm-6">
                                            <button type="button" class="btn btn-rounded btn-info   float-right "
                                                    title="Ajouter une mission"
                                                    onclick="addRowMission()"><i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">


                                            <div id="missionList">
                                                <div class="row">
                                                    <div class="col form-group"><label class="control-label">Titre
                                                        de la mission</label>
                                                    </div>
                                                    <!--   <div class="col form-group"><label class="control-label">Déscription
                                                           de la mission</label>
                                                       </div>-->

                                                </div>
                                                <div class="row item m" th:each="mission, item : *{missions}" id="idm0">


                                                    <div class="col form-group col-sm-6">
                                                        <input

                                                                th:field="*{missions[__${item.index}__].titre}"
                                                                type="text"
                                                                class="form-control" required="required">
                                                    </div>

                                                    <!--    <div class="col form-group">
                                                         <input
                                                                    th:field="*{missions[__${item.index}__].description}"
                                                                    type="text"
                                                                    class="form-control" required="required">
                                                    </div>-->
                                                    <div class="col form-group">
                                                        <input
                                                                type="button" value="Effacer" id="m0"
                                                                onclick="removeRowMission(this)" class="btn btn-danger">
                                                    </div>
                                                </div>


                                            </div>


                                        </div>
                                    </div>


                                    <button class="btn btn-rounded btn-info  prevBtn  float-left " type="button">
                                        <i
                                                class="fas fa-arrow-left"></i> Retour
                                    </button>
                                    <button class="btn btn-rounded btn-info   float-right " type="submit">
                                        Enregistrer
                                    </button>


                                </div>


                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>


<footer class="footer">
    © 2020
</footer>

<div th:insert="fragments/script_footer.html ::scriptFooter"></div>

<script th:src="|../js_files/add_row.js|"></script>

<script src="/webjars/switchery/dist/switchery.min.js"></script>
<script src="/webjars/select2/4.0.6/dist/js/select2.full.min.js" type="text/javascript"></script>
<script th:src="|../js_files/select2.js|"></script>

<script th:src="|../js_files/steps_form.js|"></script>

</body>


</html>

